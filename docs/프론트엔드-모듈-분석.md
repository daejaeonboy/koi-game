# 프론트엔드 모듈 분석

## 메인 애플리케이션(앱 컴포넌트)
핵심 책임:
- 게임 상태(코이/연못/재화/아이템/모달) 관리
- 로그인/세션/클라우드 동기화 오케스트레이션
- 장터/광고/업적/랭킹 UI 이벤트 처리
- 주기 저장 및 충돌 보정(Shadow Koi 정리, 수령 코이 처리)

주요 핸들러:
- 닉네임: handleSaveNickname
- 광고 보상: handleWatchAd
- 장터: handleListingCreated, handleBuySuccess, handleCancelSuccess
- 게임플레이: handleBreedKois, handleSell, handleBuyKoi, handleCleanPond
- 저장/초기화: handleLoadGame, handleNewGame

## 훅
- hooks/useKoiPond.ts
  - 연못/코이 기본 상태 생성
  - 먹이/성장/질병/수질/치료/이동 로직
- hooks/useAchievements.ts
  - 업적 해금/수령 상태 관리
  - 클라우드 동기화 연계

## 컴포넌트 책임 맵
- 핵심 화면: Pond.tsx, ControlBar.tsx
- 코이 관련: Koi.tsx, KoiDetailModal.tsx, SingleKoiCanvas.tsx, KoiCSSPreview.tsx
- 모달(경제/상태): ShopModal.tsx, PondInfoModal.tsx, ThemeModal.tsx, SaveLoadModal.tsx, AccountModal.tsx
- 온라인/장터: AuthModal.tsx, MarketplaceModal.tsx, CreateListingModal.tsx, ListingDetailModal.tsx, SessionConflictModal.tsx
- 포인트/업적/랭킹: APDisplay.tsx, AdRewardModal.tsx, AchievementModal.tsx, RankingModal.tsx
- 안정성/디버그: ErrorBoundary.tsx, debug/SpotGeneticsDebugPanel.tsx

## 유틸 핵심
- utils/genetics.ts: 표현형 계산, 교배, 희귀도/가치 계산
- utils/GameEngine.ts: 캔버스 물리/렌더 루프
- utils/koiRenderer.ts: 코이 형태 렌더링 및 히트테스트
- utils/achievements.ts: 업적 정의(대량 규칙)
- utils/audio.ts: Web Audio 기반 BGM/SFX
- utils/serializer.ts: 저장 상태 압축/복원
