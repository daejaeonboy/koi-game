# 🎯 Zen Koi Garden 목표

---

## 1. 온라인화
> 게스트 플레이, 온라인 플레이 가능. 온라인 플레이를 위해선 구글 계정을 이용한 로그인 필요. 단, 게스트 플레이 데이터를 온라인으로 이전 불가

### ❓ 명확히 해야 할 부분
- [✅ Firebase] **백엔드 선택**: Firebase? Supabase? 직접 구축?
- [구글 only] **구글 외 다른 로그인**: Apple, 카카오 등 추가할 건지?
- [의도적 정책 => 다중 게스트 계정으로 예쁜 무늬의 잉어를 찍어내는 공장 발생 가능] **게스트 → 온라인 이전 불가 이유**: 기술적 제한인지, 의도적 정책인지?
  - 만약 의도적이라면 사용자 불만 예상됨
- [인터넷 없을때 게스트로만 플레이 가능] **오프라인 플레이**: 인터넷 없을 때 게스트로 플레이 가능한지?

### ⚠️ 잠재적 문제
- 게스트로 오래 플레이한 사용자가 온라인으로 전환 시 데이터 손실 → 이탈 가능성
- 동기화 충돌: 여러 기기에서 동시 접속 시 데이터 처리 방법? => 동시접속 불가

---

## 2. 앱/웹 완전 호환
> 온라인화를 어플에서도 사용할 수 있도록 적용 - 어플/웹 완전호환

### ❓ 명확히 해야 할 부분
- [실시간] **동기화 시점**: 실시간? 아니면 저장 버튼 클릭 시?
- [후접속 차단] **충돌 해결**: 웹에서 플레이 중 앱에서도 접속하면 어떻게 처리?
  - 후접속 차단? / 마지막 저장 우선? / 병합?
- [일단 안드로이드부터] **iOS 지원 여부**: Android만 할 건지, iOS도 할 건지?
  - iOS는 Apple 개발자 계정 필요 (연 $99)

### ⚠️ 잠재적 문제
- Capacitor로 Android는 가능하나, 실시간 동기화와 푸시 알림 구현 복잡도 증가
- 웹/앱 간 버전 불일치 시 호환성 문제

---

## 3. 거래 시스템 (장터)
> 장터에 잉어를 올리면 경매를 통해 거래. 현금으로 거래, 수수료 부과 (12.5%)

### ❓ 명확히 해야 할 부분
- [시간 제한이 있고 즉시 구매 또한 있음] **경매 방식**: 
  - 실시간 경매? (시간 제한 내 입찰)
  - 즉시 구매가 있는 경매? (Buy It Now)
  - 단순 고정가 판매?
- [일주일 내외] **경매 기간**: 몇 시간/며칠?
- [판매자가 설정] **최저 입찰가**: 판매자가 설정? 시스템이 자동 산정?
- [✅ 5%, 구매자 부담] **수수료 정책**: 
  - ~~12.5% (예시 기준)~~ → **5% 확정**
  - 구매자 부담 (판매자는 ZP로 키운 잉어를 포인트로 받으므로)
- [불가] **환불 정책**: 구매 후 환불 가능한지?
- [불가] **잉어 중복 판매 방지**: 판매 중인 잉어는 게임에서 사용 불가?

### ⚠️ 잠재적 문제 (중요!)
- **💰 결제 시스템**: 
  - PG사 연동 필요 (토스페이먼츠, 아임포트 등)
  - 사업자 등록 필수
  - 정산 시스템 구축 필요
- **📜 법적 문제**:
  - 게임 내 현금 거래 = **게임머니 규제** 적용 가능성
  - 청소년 결제 제한 필요
  - 환불/분쟁 처리 정책 필요
- **🔒 보안**:
  - 잉어 복제 해킹 방지
  - 가격 조작 방지
  - 사기 거래 방지

### ✅ 확정된 포인트 시스템
- **광고 포인트 (AP)**: 광고 시청으로 획득하는 거래 전용 재화
  - 15초 광고 시청: **200 AP**
  - 30초 광고 시청: **500 AP**
- **1단계**: AP로만 거래 (현금 거래 없음)
- **2단계**: 사용자 수 확보 후 현금 거래 도입 검토

---

## 📋 우선순위 제안

| 순서 | 항목 | 난이도 | 이유 |
|------|------|--------|------|
| 1 | 온라인화 (구글 로그인) | ⭐⭐ | 2, 3번의 기반 |
| 2 | 앱/웹 동기화 | ⭐⭐⭐ | 온라인화 완료 후 진행 |
| 3 | 장터 (인앱 재화) | ⭐⭐⭐ | 현금 거래 전 테스트 |
| 4 | 장터 (현금 거래) | ⭐⭐⭐⭐⭐ | 법적/사업적 준비 필요 |

---

## ✅ 최종 결정사항

| 항목 | 결정 |
|------|------|
| 백엔드 | **Firebase** (추후 마이그레이션 가능) |
| 로그인 | Google 계정 Only |
| iOS 지원 | ❌ (Android 우선) |
| 게스트 → 온라인 이전 | ❌ (공장 방지 정책) |
| 동기화 | 실시간 (동시접속 불가) |
| 거래 재화 | 광고 포인트 (AP) |
| 광고 포인트 | 15초=200AP, 30초=500AP |
| 수수료 | 5% (구매자 부담) |
| 경매 방식 | 시간제한 + 즉시구매 |
| 경매 기간 | 일주일 내외 |